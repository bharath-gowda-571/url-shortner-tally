{"ast":null,"code":"import _asyncToGenerator from \"/home/bharath/Desktop/drive2/CricketStats_website/iplversus2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { push_in_sorted_order } from '../../random_ops';\nlet BowlVsTeamDetailsComponent = class BowlVsTeamDetailsComponent {\n  constructor(route, _playerService) {\n    this.route = route;\n    this._playerService = _playerService;\n    this.loading = true;\n    this.nvr_fcd_off = false;\n    this.balls = 0;\n    this.runs = 0;\n    this.wickets = 0;\n    this.wides = 0;\n    this.noballs = 0;\n    this.sixes = 0;\n    this.fours = 0;\n    this.data_by_year = {};\n    this.barChartOptions = {\n      responsive: true,\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    };\n    this.barChartLabels = [];\n    this.barChartType = 'line';\n    this.barChartLegend = true;\n    this.barChartPlugins = [];\n    this.barChartData = [{\n      data: [],\n      label: 'Average Economy'\n    }];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      var _a; // getting bowler and team name from route \n\n\n      _this.bowler = _this.route.snapshot.paramMap.get(\"bowler\");\n      _this.team = _this.route.snapshot.paramMap.get(\"team\");\n      _this.data = yield _this._playerService.getBowlerVsTeamData(_this.bowler, _this.team);\n\n      if (_this.data == null) {\n        _this.nvr_fcd_off = true;\n        _this.loading = false;\n        return;\n      }\n\n      _this.best_figure = {\n        wickets: 0,\n        runs: Infinity,\n        economy: Infinity\n      };\n      var temp_economy = 0;\n\n      for (var inning of _this.data) {\n        // console.log(inning.year)\n        if (_this.data_by_year[inning.year] == undefined) {\n          _this.barChartLabels = push_in_sorted_order(_this.barChartLabels, inning.year);\n          _this.data_by_year[inning.year] = {\n            balls: 0,\n            runs: 0,\n            wickets: 0,\n            avg_economy: 0,\n            fours: 0,\n            sixes: 0,\n            noballs: 0,\n            wides: 0,\n            bestFigure: {\n              wickets: 0,\n              runs: Infinity,\n              economy: Infinity\n            },\n            innings: 0,\n            overs: '0.0'\n          };\n        }\n\n        _this.data_by_year[inning.year].innings += 1;\n        _this.balls += inning.balls;\n        _this.data_by_year[inning.year].balls += inning.balls;\n        _this.runs += inning.runs;\n        _this.data_by_year[inning.year].runs += inning.runs;\n        _this.wides += inning.wides;\n        _this.data_by_year[inning.year].wides += inning.wides;\n        _this.wickets += inning.wickets;\n        _this.data_by_year[inning.year].wickets += inning.wickets;\n        _this.noballs += inning.noballs;\n        _this.data_by_year[inning.year].noballs += inning.noballs;\n        _this.sixes += inning.sixes;\n        _this.data_by_year[inning.year].sixes += inning.sixes;\n        _this.fours += inning.fours;\n        _this.data_by_year[inning.year].fours += inning.fours;\n        temp_economy += inning.economy;\n        _this.data_by_year[inning.year].avg_economy += inning.economy;\n\n        if (_this.best_figure.wickets < inning.wickets) {\n          _this.best_figure = {\n            wickets: inning.wickets,\n            runs: inning.runs,\n            economy: inning.economy\n          };\n        } else if (_this.best_figure.wickets == _this.wickets) {\n          if (_this.best_figure.runs > inning.runs) {\n            _this.best_figure = {\n              wickets: inning.wickets,\n              runs: inning.runs,\n              economy: inning.economy\n            };\n          } else if (_this.best_figure.runs == inning.runs) {\n            if (_this.best_figure.economy > inning.economy) {\n              _this.best_figure = {\n                wickets: inning.wickets,\n                runs: inning.runs,\n                economy: inning.economy\n              };\n            }\n          }\n        }\n      }\n\n      for (var year of _this.barChartLabels) {\n        _this.data_by_year[year].avg_economy /= _this.data_by_year[year].innings;\n        _this.data_by_year[year].overs = Math.trunc(_this.data_by_year[year].balls / 6).toString() + \".\" + (_this.data_by_year[year].balls % 6).toString();\n        (_a = _this.barChartData[0].data) === null || _a === void 0 ? void 0 : _a.push(_this.data_by_year[year].avg_economy);\n      }\n\n      console.log(_this.barChartData);\n      _this.overs = Math.trunc(_this.balls / 6).toString() + \".\" + (_this.balls % 6).toString();\n      _this.avg_economy = temp_economy / _this.data.length;\n      _this.loading = false;\n    })();\n  }\n\n};\nBowlVsTeamDetailsComponent = __decorate([Component({\n  selector: 'app-bowl-vs-team-details',\n  templateUrl: './bowl-vs-team-details.component.html',\n  styleUrls: ['./bowl-vs-team-details.component.scss']\n})], BowlVsTeamDetailsComponent);\nexport { BowlVsTeamDetailsComponent };","map":{"version":3,"sources":["/home/bharath/Desktop/drive2/CricketStats_website/iplversus2/src/app/components/bowl-vs-team-details/bowl-vs-team-details.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PlayersService } from 'src/app/services/players.service';\nimport {push_in_sorted_order} from '../../random_ops';\nimport { ChartType, ChartOptions,ChartDataSets } from 'chart.js';\n// import { Label, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\n\n\ninterface BestFigure{\n  wickets:number,\n  runs:number,\n  economy:number\n}\n\ninterface DataByYear{\n  [keys:string]:{\n  balls:number,\n  runs:number,\n  wickets:number,\n  overs:string,\n  wides:number,\n  noballs:number,\n  bestFigure:BestFigure,\n  sixes:number,\n  fours:number,\n  avg_economy:number,\n  innings:number\n}\n}\n\n\n@Component({\n  selector: 'app-bowl-vs-team-details',\n  templateUrl: './bowl-vs-team-details.component.html',\n  styleUrls: ['./bowl-vs-team-details.component.scss']\n})\n\n\nexport class BowlVsTeamDetailsComponent implements OnInit {\n  public bowler:any;\n  public team:any;\n  public data:any;\n  public loading:boolean=true;\n  public nvr_fcd_off=false;\n  public balls:number=0;\n  public runs:number=0;\n  public wickets:number=0;\n  public wides:number=0;\n  public noballs:number=0;\n  public sixes:number=0;\n  public fours:number=0;\n  public overs!:string;\n  public avg_economy!: number;\n  public best_figure!:BestFigure;\n  public data_by_year:DataByYear={};\n  \n  public barChartOptions: ChartOptions = {\n    responsive: true,\n    scales: {\n      yAxes: [{\n          ticks: {\n              beginAtZero:true\n          }\n      }]\n  }\n  };\n  public barChartLabels: string[] = [];\n  public barChartType: ChartType = 'line';\n  public barChartLegend = true;\n  public barChartPlugins = [];\n  public barChartData: ChartDataSets[] = [\n    { data: [], label: 'Average Economy' }\n  ];\n\n  constructor(private route:ActivatedRoute,public _playerService:PlayersService) { }\n\n\n  async ngOnInit(): Promise<void> {\n    // getting bowler and team name from route \n    this.bowler=this.route.snapshot.paramMap.get(\"bowler\")\n    this.team=this.route.snapshot.paramMap.get(\"team\")\n\n    \n    this.data= await this._playerService.getBowlerVsTeamData(this.bowler,this.team);\n    if(this.data==null){\n      this.nvr_fcd_off=true\n      this.loading=false\n      return\n    }\n    this.best_figure={\n      wickets:0,\n      runs:Infinity,\n      economy:Infinity\n    }\n\n    var temp_economy=0;\n    for(var inning of this.data){\n\n      // console.log(inning.year)\n      \n      if(this.data_by_year[inning.year]==undefined){\n        \n\n        this.barChartLabels=push_in_sorted_order(this.barChartLabels,inning.year)\n        this.data_by_year[inning.year]={\n          balls:0,\n          runs:0,\n          wickets:0,\n          avg_economy:0,\n          fours:0,\n          sixes:0,\n          noballs:0,\n          wides:0,\n          bestFigure:{\n            wickets:0,\n            runs:Infinity,\n            economy:Infinity,\n          },\n          innings:0,\n          overs:'0.0'\n        }\n      }\n  \n      this.data_by_year[inning.year].innings+=1\n      \n      this.balls+=inning.balls\n      this.data_by_year[inning.year].balls+=inning.balls\n\n      this.runs+=inning.runs\n      this.data_by_year[inning.year].runs+=inning.runs\n\n      this.wides+=inning.wides\n      this.data_by_year[inning.year].wides+=inning.wides\n\n      this.wickets+=inning.wickets\n      this.data_by_year[inning.year].wickets+=inning.wickets\n\n      this.noballs+=inning.noballs\n      this.data_by_year[inning.year].noballs+=inning.noballs\n\n      this.sixes+=inning.sixes\n      this.data_by_year[inning.year].sixes+=inning.sixes\n\n      this.fours+=inning.fours\n      this.data_by_year[inning.year].fours+=inning.fours\n\n      temp_economy+=inning.economy\n\n      this.data_by_year[inning.year].avg_economy+=inning.economy\n\n\n      if(this.best_figure.wickets<inning.wickets){\n        this.best_figure={\n          wickets:inning.wickets,\n          runs:inning.runs,\n          economy:inning.economy\n        }\n      }\n      else if(this.best_figure.wickets==this.wickets){\n        if(this.best_figure.runs>inning.runs){\n          this.best_figure={\n            wickets:inning.wickets,\n            runs:inning.runs,\n            economy:inning.economy\n          }\n        }\n        else if(this.best_figure.runs==inning.runs){\n          if(this.best_figure.economy>inning.economy){\n            this.best_figure={\n              wickets:inning.wickets,\n              runs:inning.runs,\n              economy:inning.economy\n            }\n          }\n          \n        }\n      }\n\n    }\n\n    for(var year of this.barChartLabels){\n      this.data_by_year[year].avg_economy/=this.data_by_year[year].innings\n      this.data_by_year[year].overs=Math.trunc(this.data_by_year[year].balls/6).toString()+\".\"+(this.data_by_year[year].balls%6).toString()\n      this.barChartData[0].data?.push(this.data_by_year[year].avg_economy)\n    }\n    console.log(this.barChartData)\n    this.overs=Math.trunc(this.balls/6).toString()+\".\"+(this.balls%6).toString()\n    \n    this.avg_economy=temp_economy/this.data.length\n    this.loading=false\n\n  }\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}