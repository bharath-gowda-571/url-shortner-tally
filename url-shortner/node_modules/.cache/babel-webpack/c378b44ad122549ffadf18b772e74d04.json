{"ast":null,"code":"import _asyncToGenerator from \"/home/bharath/Desktop/drive2/CricketStats_website/iplversus2/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\nlet BatsVsBowlDetailsComponent = class BatsVsBowlDetailsComponent {\n  constructor(route, _playerService) {\n    this.route = route;\n    this._playerService = _playerService;\n    this.pieChartOptions1 = {\n      responsive: true,\n      legend: {\n        position: \"top\"\n      }\n    };\n    this.pieChartLabels1 = [];\n    this.pieChartData1 = [];\n    this.pieChartType1 = 'pie';\n    this.pieChartLegend1 = true;\n    this.pieChartPlugins1 = [];\n    this.donutColors1 = [{\n      backgroundColor: ['rgba(92, 184, 92,1)', 'rgba(255, 195, 0, 1)', 'rgba(217, 83, 79,1)', 'rgba(129, 78, 40, 1)', 'rgba(129, 199, 111, 1)']\n    }];\n    this.loading = true;\n    this.barChartOptions = {\n      responsive: true,\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true\n          }\n        }]\n      }\n    };\n    this.barChartLabels = [];\n    this.barChartType = 'bar';\n    this.barChartLegend = true;\n    this.barChartPlugins = [];\n    this.barChartData = [{\n      data: [],\n      label: 'Strike Rate'\n    }];\n    this.ball_data = [];\n    this.inngs_arr = [];\n    this.runs = 0;\n    this.balls = 0;\n    this.fours = 0;\n    this.sixes = 0;\n    this.dissmissal = 0;\n    this.wides = 0;\n    this.noballs = 0;\n    this.nvr_fcd_off = false;\n    this.data_by_match = {};\n    this.data_each_year = {};\n    this.avg_strike_rate = 0;\n    this.chart_or_data1 = true;\n    this.chartTabClass = \"nav-link active\";\n    this.dataTabClass = \"nav-link\";\n    this.chart_or_data2 = true;\n    this.chartTabClass2 = \"nav-link active\";\n    this.dataTabClass2 = \"nav-link\";\n    monkeyPatchChartJsLegend();\n    monkeyPatchChartJsTooltip();\n  }\n\n  push_in_sorted_order(arr, ele) {\n    if (arr.length == 0) {\n      arr.push(ele);\n      return arr;\n    }\n\n    for (var i = 0; i < arr.length - 1; i++) {\n      if (arr[i] < ele && ele < arr[i + 1]) {\n        arr.splice(i + 1, 0, ele);\n        return arr;\n      }\n    }\n\n    if (ele < arr[0]) {\n      arr.splice(0, 0, ele);\n    } else if (ele > arr[arr.length - 1]) {\n      arr.push(ele);\n    }\n\n    return arr;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      // getting batsman and bowler name from route \n      _this.batsman = _this.route.snapshot.paramMap.get(\"batsman\");\n      _this.bowler = _this.route.snapshot.paramMap.get(\"bowler\");\n      _this.ball_data = yield _this._playerService.getBatsmanVsBowlerData(_this.batsman, _this.bowler);\n\n      if (_this.ball_data == null) {\n        _this.loading = false;\n        _this.nvr_fcd_off = true;\n        return;\n      }\n\n      _this.loading = false;\n\n      for (var data of _this.ball_data) {\n        // checking if year is present in matches_each_year\n        if (_this.data_each_year[data.year] == undefined) {\n          _this.data_each_year[data.year] = {\n            runs: 0,\n            balls: 0,\n            strike_rate: 0,\n            matches: [],\n            batting_team: data.batting_team,\n            bowling_team: data.bowling_team,\n            fours: 0,\n            sixes: 0,\n            dissmissals: 0,\n            noballs: 0,\n            wides: 0\n          };\n          _this.barChartLabels = _this.push_in_sorted_order(_this.barChartLabels, data.year);\n\n          _this.barChartData[0].data.splice(_this.barChartLabels.indexOf(data.year), 0, 0);\n        } // checking if match id is in data_by_match\n\n\n        if (_this.data_by_match[data.match_id] == undefined) {\n          _this.data_each_year[data.year].matches.push(data.match_id);\n\n          _this.inngs_arr.push(data.match_id);\n\n          _this.data_by_match[data.match_id] = {\n            runs: 0,\n            balls: 0,\n            strike_rate: 0\n          };\n        } // counting the balls\n\n\n        _this.data_by_match[data.match_id].balls++;\n        _this.balls++;\n        _this.data_each_year[data.year].balls++; // checking if bowler got a wicket in that ball\n\n        if (data.wicket != undefined) {\n          if ([\"bowled\", \"lbw\", \"caught\", \"caught and bowled\", \"stumped\"].includes(data.wicket.kind)) {\n            _this.dissmissal += 1;\n            _this.data_each_year[data.year].dissmissals++;\n\n            if (_this.pieChartLabels1.includes(data.wicket.kind)) {\n              var index = _this.pieChartLabels1.indexOf(data.wicket.kind);\n\n              _this.pieChartData1[index] = _this.pieChartData1[index] + 1;\n            } else {\n              _this.pieChartLabels1.push(data.wicket.kind);\n\n              _this.pieChartData1.push(1);\n            }\n          }\n        } // counting runs \n\n\n        _this.runs += data.runs.batsman;\n        _this.data_by_match[data.match_id].runs += data.runs.batsman;\n        _this.data_each_year[data.year].runs += data.runs.batsman; // couting extras\n\n        if (data.extras != undefined) {\n          if (data.extras.wides != undefined) {\n            _this.wides += 1;\n            _this.data_each_year[data.year].wides++;\n          } else if (data.extras.noballs != undefined) {\n            _this.noballs += 1;\n            _this.data_each_year[data.year].noballs++;\n          }\n        } // couting fours\n\n\n        if (data.runs.batsman == 4) {\n          _this.fours += 1;\n          _this.data_each_year[data.year].fours++;\n        } // couting sixes\n\n\n        if (data.runs.batsman == 6) {\n          _this.sixes += 1;\n          _this.data_each_year[data.year].sixes++;\n        }\n      } // calculating strike for match\n\n\n      for (var match of _this.inngs_arr) {\n        _this.data_by_match[match].strike_rate = _this.data_by_match[match].runs * 100 / _this.data_by_match[match].balls;\n      } // calculating strike rate each year\n\n\n      var temp_strike_rate = 0;\n\n      for (var year of _this.barChartLabels) {\n        temp_strike_rate = 0;\n\n        for (var match of _this.data_each_year[year].matches) {\n          temp_strike_rate += _this.data_by_match[match].strike_rate;\n        }\n\n        _this.data_each_year[year].strike_rate = temp_strike_rate / _this.data_each_year[year].matches.length;\n        _this.barChartData[0].data[_this.barChartLabels.indexOf(year)] = _this.data_each_year[year].strike_rate;\n      } // calculating total strike rate\n\n\n      temp_strike_rate = 0;\n\n      for (var match of _this.inngs_arr) {\n        temp_strike_rate += _this.data_by_match[match].strike_rate;\n      }\n\n      _this.avg_strike_rate = temp_strike_rate / _this.inngs_arr.length;\n\n      _this.barChartData[0].data.push(0);\n\n      _this.loading = false;\n      _this.barChartData[0].backgroundColor = 'rgba(89, 180, 201,1)';\n    })();\n  }\n\n  changeChartOrData(choice) {\n    if (choice == \"chart\") {\n      this.chart_or_data1 = true;\n      this.chartTabClass = \"nav-link active\";\n      this.dataTabClass = \"nav-link\";\n    } else if (choice == \"data\") {\n      this.chart_or_data1 = false;\n      this.dataTabClass = \"nav-link active\";\n      this.chartTabClass = \"nav-link\";\n    }\n  }\n\n  changeChartOrData2(choice) {\n    if (choice == \"chart\") {\n      this.chart_or_data2 = true;\n      this.chartTabClass2 = \"nav-link active\";\n      this.dataTabClass2 = \"nav-link\";\n    } else if (choice == \"data\") {\n      this.chart_or_data2 = false;\n      this.dataTabClass2 = \"nav-link active\";\n      this.chartTabClass2 = \"nav-link\";\n    }\n  }\n\n  switchYear(yearIndex) {\n    console.log(yearIndex);\n  }\n\n};\nBatsVsBowlDetailsComponent = __decorate([Component({\n  selector: 'app-bats-vs-bowl-details',\n  templateUrl: './bats-vs-bowl-details.component.html',\n  styleUrls: ['./bats-vs-bowl-details.component.scss']\n})], BatsVsBowlDetailsComponent);\nexport { BatsVsBowlDetailsComponent };","map":{"version":3,"sources":["/home/bharath/Desktop/drive2/CricketStats_website/iplversus2/src/app/components/bats-vs-bowl-details/bats-vs-bowl-details.component.ts"],"names":[],"mappings":"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","sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { Ball } from 'src/app/player_pop_names';\nimport { PlayersService } from 'src/app/services/players.service';\nimport { ChartType, ChartOptions,ChartDataSets } from 'chart.js';\nimport { Label, monkeyPatchChartJsLegend, monkeyPatchChartJsTooltip } from 'ng2-charts';\n\ninterface runs_balls_sr{\n  runs:number;\n  balls:number;\n  strike_rate:number;\n}\ninterface DataEachYear{\n  [keys:string]:{\n    runs:number;\n    balls:number;\n    strike_rate:number;\n    matches:string[];\n    batting_team:string;\n    bowling_team:string;\n    fours:number;\n    sixes:number;\n    noballs:number;\n    wides:number;\n    dissmissals:number;\n  }\n}\nexport interface IHash {\n  [details: string] : runs_balls_sr;\n} \n\n@Component({\n  selector: 'app-bats-vs-bowl-details',\n  templateUrl: './bats-vs-bowl-details.component.html',\n  styleUrls: ['./bats-vs-bowl-details.component.scss']\n})\n\n\nexport class BatsVsBowlDetailsComponent implements OnInit {\n  constructor(private route:ActivatedRoute,private _playerService:PlayersService) {\n    monkeyPatchChartJsLegend();\n    monkeyPatchChartJsTooltip();\n   }\n\n  public pieChartOptions1: ChartOptions = {\n    responsive: true,\n    legend:{\n      position:\"top\",\n      \n    }\n  };\n\n  \n  public pieChartLabels1: Label[] = [];\n  public pieChartData1: number[] = [];\n\n  public pieChartType1: ChartType = 'pie';\n  public pieChartLegend1 = true;\n  public pieChartPlugins1 = [];\n  public donutColors1=[\n    {\n      backgroundColor: [\n          'rgba(92, 184, 92,1)',\n          'rgba(255, 195, 0, 1)',\n          'rgba(217, 83, 79,1)',\n          'rgba(129, 78, 40, 1)',\n          'rgba(129, 199, 111, 1)'\n    ]\n    }\n  ];\n  public loading:boolean=true;\n  \n  public barChartOptions: ChartOptions = {\n    responsive: true,\n    scales: {\n      yAxes: [{\n          ticks: {\n              beginAtZero:true\n          }\n      }]\n  }\n  };\n  public barChartLabels: string[] = [];\n  public barChartType: ChartType = 'bar';\n  public barChartLegend = true;\n  public barChartPlugins = [];\n  public barChartData: ChartDataSets[] = [\n    { data: [], label: 'Strike Rate' }\n  ];\n\n  public all_data!:Ball[];\n  public batsman!:any;\n  public bowler!:any;\n  public ball_keys!:any;\n  public ball_data:Ball[]=[];\n  public inngs_arr:string[]=[];\n  public runs:number=0;\n  public balls:number=0;\n  public fours:number=0;\n  public sixes:number=0;\n  public dissmissal:number=0;\n  public wides:number=0;\n  public noballs:number=0;\n  public nvr_fcd_off:boolean=false;\n\n  public data_by_match:IHash={};\n\n  public data_each_year:DataEachYear={};\n  public avg_strike_rate:number=0;\n\n  \n  push_in_sorted_order(arr:string[],ele:string){\n    \n    if(arr.length==0){\n      arr.push(ele)\n      return arr\n    }\n\n    for(var i=0;i<arr.length-1;i++){\n      if(arr[i]<ele &&ele<arr[i+1]){\n         arr.splice(i+1,0,ele)\n         return arr\n      }\n    }\n    if(ele<arr[0]){\n      \n      arr.splice(0,0,ele)\n    }\n    else if(ele>arr[arr.length-1]){\n      \n      arr.push(ele)\n\n    }\n    return arr\n  }\n\n  \n\n  async ngOnInit(): Promise<void> {\n\n    // getting batsman and bowler name from route \n    this.batsman=this.route.snapshot.paramMap.get(\"batsman\")\n    this.bowler=this.route.snapshot.paramMap.get(\"bowler\")\n\n    this.ball_data= await this._playerService.getBatsmanVsBowlerData(this.batsman,this.bowler)\n\n    if(this.ball_data==null){\n      this.loading=false\n      this.nvr_fcd_off=true\n      return\n    }\n\n\n      this.loading=false\n        for(var data of this.ball_data){ \n\n        // checking if year is present in matches_each_year\n          if(this.data_each_year[data.year]==undefined){\n        \n            this.data_each_year[data.year]=\n            {\n              runs:0,\n              balls:0,\n              strike_rate:0,\n              matches:[],\n              batting_team:data.batting_team,\n              bowling_team:data.bowling_team,\n              fours:0,\n              sixes:0,\n              dissmissals:0,\n              noballs:0,\n              wides:0\n            }\n            this.barChartLabels=this.push_in_sorted_order(this.barChartLabels,data.year)\n            this.barChartData[0].data!.splice(this.barChartLabels.indexOf(data.year),0,0)\n          }\n          // checking if match id is in data_by_match\n          if(this.data_by_match[data.match_id]==undefined){\n            this.data_each_year[data.year].matches.push(data.match_id)\n            this.inngs_arr.push(data.match_id)\n            this.data_by_match[data.match_id]={\n              runs:0,\n              balls:0,\n              strike_rate:0\n            }\n          }\n          \n          // counting the balls\n          this.data_by_match[data.match_id].balls++;\n          this.balls++;\n          this.data_each_year[data.year].balls++;\n          \n          // checking if bowler got a wicket in that ball\n          if(data.wicket!=undefined){\n              if([\"bowled\",\"lbw\",\"caught\",\"caught and bowled\",\"stumped\"].includes(data.wicket.kind)){\n                this.dissmissal+=1\n                this.data_each_year[data.year].dissmissals++\n                if(this.pieChartLabels1.includes(data.wicket.kind)){\n                  var index=this.pieChartLabels1.indexOf(data.wicket.kind)\n                  this.pieChartData1[index]=this.pieChartData1[index]+1\n                }\n                else{\n                  this.pieChartLabels1.push(data.wicket.kind)\n                  this.pieChartData1.push(1)\n                }\n              }\n          }\n\n          \n          // counting runs \n          this.runs+=data.runs.batsman\n          this.data_by_match[data.match_id].runs+=data.runs.batsman\n          this.data_each_year[data.year].runs+=data.runs.batsman\n          \n          // couting extras\n          if(data.extras!=undefined){\n            if(data.extras.wides!=undefined){\n              this.wides+=1\n              this.data_each_year[data.year].wides++\n            }\n            else if(data.extras.noballs!=undefined){\n              this.noballs+=1\n              this.data_each_year[data.year].noballs++\n            }\n          }\n\n          // couting fours\n          if(data.runs.batsman==4){\n            this.fours+=1\n            this.data_each_year[data.year].fours++\n\n          }\n          // couting sixes\n          if(data.runs.batsman==6){\n            this.sixes+=1\n            this.data_each_year[data.year].sixes++\n\n          }\n          \n      }\n      // calculating strike for match\n      for(var match of this.inngs_arr){\n\n      this.data_by_match[match].strike_rate=(this.data_by_match[match].runs*100)/this.data_by_match[match].balls\n    }\n    \n\n      // calculating strike rate each year\n      var temp_strike_rate=0\n      for(var year of this.barChartLabels){\n        temp_strike_rate=0\n        for(var match of this.data_each_year[year].matches){\n          temp_strike_rate+=this.data_by_match[match].strike_rate\n        }\n        this.data_each_year[year].strike_rate=temp_strike_rate/this.data_each_year[year].matches.length\n        this.barChartData[0].data![this.barChartLabels.indexOf(year)]=this.data_each_year[year].strike_rate\n      }\n      \n      // calculating total strike rate\n      temp_strike_rate=0\n      for(var match of this.inngs_arr)\n      {\n        temp_strike_rate+=this.data_by_match[match].strike_rate\n      }\n      this.avg_strike_rate=temp_strike_rate/this.inngs_arr.length\n\n      \n      this.barChartData[0].data!.push(0)\n      this.loading=false\n      this.barChartData[0].backgroundColor='rgba(89, 180, 201,1)'\n  \n  }\n\n\n  public chart_or_data1=true\n  public chartTabClass=\"nav-link active\"\n  public dataTabClass=\"nav-link\"\n\n  changeChartOrData(choice:string){\n    if(choice==\"chart\"){\n      this.chart_or_data1=true\n      this.chartTabClass=\"nav-link active\"\n      this.dataTabClass=\"nav-link\"\n    }\n    else if(choice==\"data\"){\n      this.chart_or_data1=false\n      this.dataTabClass=\"nav-link active\"\n      this.chartTabClass=\"nav-link\"\n    }\n\n  }\n  public chart_or_data2=true\n  public chartTabClass2=\"nav-link active\"\n  public dataTabClass2=\"nav-link\"\n\n  changeChartOrData2(choice:string){\n    if(choice==\"chart\"){\n      this.chart_or_data2=true\n      this.chartTabClass2=\"nav-link active\"\n      this.dataTabClass2=\"nav-link\"\n    }\n    else if(choice==\"data\"){\n      this.chart_or_data2=false\n      this.dataTabClass2=\"nav-link active\"\n      this.chartTabClass2=\"nav-link\"\n    }\n\n  }\n\n\n  switchYear(yearIndex:number){\n    console.log(yearIndex)\n  }\n\n\n}\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}