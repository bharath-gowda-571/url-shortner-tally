{"ast":null,"code":"import _asyncToGenerator from \"/home/bharath/Desktop/drive2/tally-hackathon/url-shortner/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport { logs } from 'src/app/models';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/redirection.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"ngx-device-detector\";\nexport let RedirectionComponent = /*#__PURE__*/(() => {\n  class RedirectionComponent {\n    constructor(service, activatedRoute, detector, router) {\n      this.service = service;\n      this.activatedRoute = activatedRoute;\n      this.detector = detector;\n      this.router = router;\n      this.loading = null;\n    }\n\n    ngOnInit() {\n      var _this = this;\n\n      return _asyncToGenerator(function* () {\n        var res = yield _this.service.viewLink(_this.activatedRoute.snapshot.url[0]['path']);\n\n        if (res) {\n          var logs1 = new logs();\n          logs1.browser = _this.detector.browser;\n          logs1.device = _this.detector.device;\n          logs1.deviceType = _this.detector.deviceType;\n          logs1.os = _this.detector.os;\n          _this.loading = yield _this.service.regLog(_this.activatedRoute.snapshot.url[0]['path'], logs1);\n          window.location.href = String(res);\n        } else {\n          _this.router.navigateByUrl(\"/error\");\n        }\n      })();\n    }\n\n  }\n\n  RedirectionComponent.ɵfac = function RedirectionComponent_Factory(t) {\n    return new (t || RedirectionComponent)(i0.ɵɵdirectiveInject(i1.RedirectionService), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.DeviceDetectorService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  RedirectionComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RedirectionComponent,\n    selectors: [[\"app-redirection\"]],\n    decls: 2,\n    vars: 0,\n    template: function RedirectionComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"redirecting.....\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    styles: [\"\"]\n  });\n  return RedirectionComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}